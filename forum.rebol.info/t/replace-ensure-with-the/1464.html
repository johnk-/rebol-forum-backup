<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Replace ENSURE with THE ? - Naming - AltRebol</title>
    <meta name="description" content="I make frequent use of something called ENSURE, which lets you check that something is the type you think it is.  It passes it through if it is, and errors if not: 
&amp;gt;&amp;gt; ensure integer! 5
== 5

&amp;gt;&amp;gt; ensure integer! &amp;quot;not an i&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1464.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Replace ENSURE with THE ?&#39;" href="1464.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/replace-ensure-with-the/1464" />
<meta name="twitter:url" content="https://forum.rebol.info/t/replace-ensure-with-the/1464" />
<meta property="og:title" content="Replace ENSURE with THE ?" />
<meta name="twitter:title" content="Replace ENSURE with THE ?" />
<meta property="og:description" content="I make frequent use of something called ENSURE, which lets you check that something is the type you think it is.  It passes it through if it is, and errors if not:  &gt;&gt; ensure integer! 5 == 5  &gt;&gt; ensure integer! &quot;not an integer&quot; ** Error: ENSURE failed with argument of type text!  The error message could be better, but you get the idea.  It has a counter part called NON:  &gt;&gt; non integer! 5  ** Error: NON failed with argument of type integer!  &gt;&gt; non integer! &quot;not an integer&quot; == &quot;not an integer&quot;  L..." />
<meta name="twitter:description" content="I make frequent use of something called ENSURE, which lets you check that something is the type you think it is.  It passes it through if it is, and errors if not:  &gt;&gt; ensure integer! 5 == 5  &gt;&gt; ensure integer! &quot;not an integer&quot; ** Error: ENSURE failed with argument of type text!  The error message could be better, but you get the idea.  It has a counter part called NON:  &gt;&gt; non integer! 5  ** Error: NON failed with argument of type integer!  &gt;&gt; non integer! &quot;not an integer&quot; == &quot;not an integer&quot;  L..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="6 ❤" />
<meta property="article:published_time" content="2021-01-11T16:38:17+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1464.html">Replace ENSURE with THE ?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-11T16:38:17Z' class='post-time'>
                January 11, 2021,  4:38pm
              </time>
              <meta itemprop='dateModified' content='2021-01-11T16:38:17Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I make frequent use of something called ENSURE, which lets you check that something is the type you think it is.  It passes it through if it is, and errors if not:</p>
<pre><code>&gt;&gt; ensure integer! 5
== 5

&gt;&gt; ensure integer! "not an integer"
** Error: ENSURE failed with argument of type text!
</code></pre>
<p>The error message could be better, but you get the idea.</p>
<p>It has a counter part called NON:</p>
<pre><code>&gt;&gt; non integer! 5 
** Error: NON failed with argument of type integer!

&gt;&gt; non integer! "not an integer"
== "not an integer"
</code></pre>
<h2>Lisp calls its ENSURE operator "THE"</h2>
<p>It's maybe a little bit less obvious, but it does save on typing:</p>
<pre><code>&gt;&gt; the integer! 5
== 5

&gt;&gt; the integer! "not an integer"
** Error: THE failed with argument of type text!
</code></pre>
<p>It makes a bit more sense when you use it with a single type than when you use it with more than one:</p>
<pre><code>&gt;&gt; the [integer! text!] 5
== 5

&gt;&gt; the [integer! text!] "not an integer"
== "not an integer"
</code></pre>
<h2>Worth changing?</h2>
<p>Being short and 3-lettered makes it kind of a better complement to NON.  They read pretty well:</p>
<pre><code>&gt;&gt; value: 5

&gt;&gt; append [1 2 3 4] the integer! value
== [1 2 3 4 5]

&gt;&gt; append [1 2 3 4] non null value
== [1 2 3 4 5]
</code></pre>
<p>I'm leaning toward thinking this might be worth the change.  Though ENSURE isn't really needed for anything else.  Maybe they could be synonyms, and if you wanted to retake the short THE for something else you could.</p>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/BlackATTR.html'><span itemprop='name'>BlackATTR</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-11T18:44:00Z' class='post-time'>
                January 11, 2021,  6:44pm
              </time>
              <meta itemprop='dateModified' content='2021-01-11T18:44:00Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1464">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<pre><code class="lang-auto">&gt;&gt; the integer! "not an integer"
** Error: THE failed with argument of type text!
</code></pre>
</blockquote>
</aside>
<p>From the perspective of a newbie, I probably wouldn't connect the meaning of THE to what I think is the more intuitively/explicitly named ENSURE. THE is brief, but I think it strays into English grammar but without the added benefit of clarity.</p>
<p>Anyway, that's my bargain-basement $.02. Whether or not THE has precedence in LISPers (reminds me more of Logo) well...</p>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/gchiu'><span itemprop='name'>gchiu</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-12T00:02:10Z' class='post-time'>
                January 12, 2021, 12:02am
              </time>
              <meta itemprop='dateModified' content='2021-01-12T00:02:10Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ensure sounds less likely to confuse newbies</p>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/iArnold.html'><span itemprop='name'>iArnold</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-01-12T21:51:28Z' class='post-time'>
                January 12, 2021,  9:51pm
              </time>
              <meta itemprop='dateModified' content='2021-01-12T21:51:28Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>THATS integer! 5</p>
<p>;extra chars to make post long enough</p>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/johnk'><span itemprop='name'>johnk</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-01-13T23:23:03Z'>
              <time itemprop='dateModified' datetime='2021-01-13T23:23:15Z' class='post-time'>
                January 13, 2021, 11:23pm
              </time>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I consulted my thesaurus and I think that <code>ensure</code> is still the best option here. <code>check</code> or <code>verify</code> are possibilities as well, but <code>ensure</code> is clearer. I did wonder about <code>make sure</code> but that left me wondering what a <code>sure</code> would do <img src="../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1464.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-05-06T09:52:37Z' class='post-time'>
                May 6, 2021,  9:52am
              </time>
              <meta itemprop='dateModified' content='2021-05-06T09:52:37Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To play devil's advocate here for a moment, when it's an argument, you get a boost:</p>
<pre><code>append data the quoted integer! select data &lt;result&gt;
</code></pre>
<p>In this context, QUOTED is a type operator that turns INTEGER! into a type that matches quoted integers.</p>
<p>I made the example a bit long to show how the 3 letters vs 6 can make a difference:</p>
<pre><code>append data ensure quoted integer! select data &lt;result&gt;
</code></pre>
<p>But on the other hand, maybe this suggests why THE should be even more fundamental in being arity-1 and checking for NULL.  Because you could use it with anything at that point.  If ENSURE didn't exist, for example:</p>
<pre><code>append data the match quoted integer! select data &lt;result&gt;
</code></pre>
<p>In particular, I was thinking about wanting to use NON as the inverse of MATCH, not the inverse of ENSURE...so it wouldn't fail, just return null or not as a test.  So:</p>
<pre><code>append data the non quoted integer! select data &lt;result&gt;
</code></pre>
<p>If you look at it this way, then ENSURE as a contraction for THE MATCH gives you the benefit of being able to get a better error message (because ensure knows the type it wanted and the value it got).</p>
<p><strong>This seems like a happy resolution.</strong></p>
<ul>
<li>I'll convert NON to just be the converse of MATCH vs. the converse of ENSURE.</li>
<li>I'll add THE as an operator that ensures its argument is not NULL, e.g. it's a "reified thing"</li>
</ul>
        </div>

        <meta itemprop='headline' content='Replace ENSURE with THE ?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
