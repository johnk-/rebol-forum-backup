<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;) - Datatypes - AltRebol</title>
    <meta name="description" content="Today&amp;#39;s #[void] has a lot in common with R3-Alpha&amp;#39;s #[unset]. 

It&amp;#39;s what functions return when they want to say they do not return &amp;quot;interesting&amp;quot; values, e.g. PRINT
Voids are values, and have a datatype (VOID!)
If you tr&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="947.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)&#39;" href="947.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/why-void-is-not-like-unset-and-why-its-more-ornery/947" />
<meta name="twitter:url" content="https://forum.rebol.info/t/why-void-is-not-like-unset-and-why-its-more-ornery/947" />
<meta property="og:title" content="Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)" />
<meta name="twitter:title" content="Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)" />
<meta property="og:description" content="Today&#39;s #[void] has a lot in common with R3-Alpha&#39;s #[unset].   It&#39;s what functions return when they want to say they do not return &quot;interesting&quot; values, e.g. PRINT Voids are values, and have a datatype (VOID!) If you try to assign a value of type void via a SET-WORD! or SET-PATH!, you&#39;ll get an error If you try to access a variable holding a VOID! through a plain WORD! or PATH!, you&#39;ll get an error (this is true of unset variables also, but that gives a distinct error of &quot;unsetness&quot;) Voids are ..." />
<meta name="twitter:description" content="Today&#39;s #[void] has a lot in common with R3-Alpha&#39;s #[unset].   It&#39;s what functions return when they want to say they do not return &quot;interesting&quot; values, e.g. PRINT Voids are values, and have a datatype (VOID!) If you try to assign a value of type void via a SET-WORD! or SET-PATH!, you&#39;ll get an error If you try to access a variable holding a VOID! through a plain WORD! or PATH!, you&#39;ll get an error (this is true of unset variables also, but that gives a distinct error of &quot;unsetness&quot;) Voids are ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2018-12-08T02:05:56+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="947.html">Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/datatypes.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="947.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2018-12-08T02:05:56Z'>
              <time itemprop='dateModified' datetime='2020-07-03T17:33:24Z' class='post-time'>
                July 3, 2020,  5:33pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Today's #[void] has a lot in common with R3-Alpha's #[unset].</p>
<ul>
<li>It's what functions return when they want to say they do not return <em>"interesting"</em> values, e.g. PRINT</li>
<li>Voids are values, and have a datatype (VOID!)</li>
<li>If you try to assign a value of type void via a SET-WORD! or SET-PATH!, you'll get an error</li>
<li>If you try to access a variable holding a VOID! through a plain WORD! or PATH!, you'll get an error (this is true of unset variables also, but that gives a distinct error of "unsetness")</li>
<li>Voids are considered to be neither true nor false--giving an error if used in conditional expressions</li>
</ul>
<p>So one might wonder:</p>
<blockquote>
<p><em>"If VOID! is acting so much like UNSET!, is this saying that Rebol2/R3-Alpha were right all along?  Did Ren-C just complicate things a bunch and then come full-circle to where all that happened is it changed the name?  Why not just call it UNSET!?"</em> — Hypothetical Person Who Is Not Paying Attention</p>
</blockquote>
<p>I can't respond to this more clearly than I already have, but I'll say it again:  Variables can be "unset", not values.  <a href="../why-or-why-not-have-unset-in-rebol-like-languages/113.html">A variable holding a value that indicates the value is unset is a contradiction in terms.</a></p>
<p>So void is its "own thing":</p>
<blockquote>
<p><strong>A void! is a means of giving a hot potato back that is a warning about <em>something</em>, but you don't want to force an error "in the moment"...in case the returned information wasn't going to be used anyway.</strong></p>
</blockquote>
<p>You can see this very clearly in how VOID! helps avoid mistakes when using conditionals with ELSE branches:</p>
<pre><code> data: if condition [expression-that-returns-null] else [value2]
</code></pre>
<p>ELSE is triggered by nulls.  But you wouldn't want a routine that incidentally returned nulls to wreck your logic--this should not be running the ELSE branch just because the IF branch returned null.</p>
<p>So nulls get "voidified"; when an if runs a branch that evaluates to null, it gives back VOID!...saving null as the signal for a branch not running.  This fills in the gap, avoids running the else, then the overall IF...ELSE evaluates to VOID!.  This means the assignment doesn't work, you'll find out.  You can stick a TRY on that expression and get a blank, but at least you're aware you won't be returning a null (you can OPT it back to a null if you must):</p>
<pre><code> data: opt if condition [try expression-that-returns-null] else [value2]
</code></pre>
<p>But what if you hadn't had an assignment?  There's no reason to error on:</p>
<pre><code> if condition [expression-that-returns-null] else [value2]
</code></pre>
<p>Having the truthy branch convert the NULL into a VOID! in this case allows the logic to work just fine.  The void appears, does its job as a value cue, and vanishes.  You didn't find out there was a problem because there wasn't one--you weren't going to assign the value anyway.</p>
<p>But while that isn't really about unsetness of variables, it does involve NULL, as only nulls are turned into voids.  So perhaps seeing the distance from unsets can be demonstrated through another construct...</p>
<h2>How MATCH uses VOID! to warn you of a tricky case</h2>
<p>MATCH is a promising tool.  It a takes a value and a test, and if the value passes the test it gives the value back...or gives you a null otherwise:</p>
<pre><code> &gt;&gt; match integer! 3
 == 3

 &gt;&gt; match integer! &lt;some-tag&gt;
 ; null
</code></pre>
<p>That's useful.  All the more useful since you can use typesets expressed as blocks (<strong>match [integer! text!] ...</strong>), logical truth or falsehood (<strong>match false blank</strong> and <strong>match false 1 = 2</strong> being matches), or even direct function applications (<strong>match parse "aaa" [some "a"]</strong> being "aaa")</p>
<p>It seems useful as a conditional, but what if you say:</p>
<pre><code> whatever: false
 ...
 if match [logic! integer!] whatever [print "It's a match!"]
</code></pre>
<p>If it passed through the false, then even though the MATCH was "successful", it wouldn't print <code>It's a match!</code>.  This could very easily get confusing and lead to mystery bugs.</p>
<p>But VOID! to the rescue.  By turning any falsey-valued matches to voids, you find out what's up:</p>
<pre><code>&gt;&gt; if match [block! blank!] 10 [print "10 isn't a block or blank"]
10 isn't a block or blank  ; because match returned null

&gt;&gt; if match [block! blank!] blank [print "conveniently warns you!"]
** Script Error: VOID! values are not conditionally true or false
</code></pre>
<p>You still get a distinction...the second case returns a value, the first returns a null.  So you can test for valueness:</p>
<pre><code> &gt;&gt; if value? match [block! blank!] 10 [print "matched"]
 ; null

 &gt;&gt; if value? match [block! blank!] blank [print "matched"]
 matched!

 &gt;&gt; match [block! blank!] blank then [print "matched!"]
 matched!
</code></pre>
<p>But if that's not good enough, the gift to you is that you now know that MATCH is not the construct you wanted.  You'll need to use the routine match is based on, called EITHER-MATCH:</p>
<pre><code> &gt;&gt; either-match [block! blank!] blank [print "branch if no match"]
 == _

 &gt;&gt; either-match [block! blank!] 10 [print "branch if no match"]
 branch if no match
</code></pre>
<h2>Deferred errors is the essence of VOID!, not unsetness</h2>
<p>Hopefully you can see why UNSET! is not a suitable name for the type.  It's an ornery value that your routines can use for the "hot potato" situation.</p>
<p>So it's best to make voids about as irritating as possible--while still being technically able to write code that builds and inspects structures using them.  Almost no one should be doing so, but they can.</p>
<p>In this spirit, VOID!s have been made even more ornery than R3-Alpha unsets.  e.g. they cause errors in ANY and ALL vs. just being ignored.  <em>(I wrote up a pretty good explanation of <a href="https://github.com/rebol/rebol-issues/issues/2248#issuecomment-444496545" rel="nofollow noopener">how invisibles provide every real desire that was intended for</a>...tidying up a bunch of murky issues nicely.)</em></p>
<p>Also, R3-Alpha used to be able to append/insert/modify UNSET! into blocks:</p>
<pre><code>r3-alpha&gt;&gt; append copy [a b c] print "Hello"
== [a b c #[unset]]
</code></pre>
<p>But now you need /ONLY to add VOID!s to blocks in Ren-C:</p>
<pre><code>&gt;&gt; append copy [a b c] print "Illegal now"
Illegal now
** Error: VOID! cannot be put into arrays without using /ONLY

&gt;&gt; append/only copy [a b c] print "Must use /ONLY"
Must use /ONLY
== [a b c #[void]]
</code></pre>
<h2>Even Deeper: Shuffling the logic of OPT and TRY</h2>
<p>TRY was created as a way to turn nulls into blanks.  For a while it decided to turn voids into blanks too--apparently there was a situation where it seemed useful.  I can't find that situation now, and it seems like a pretty bad idea.  If such an operation is ever needed, it could be called DEVOID or something.  So now TRY on a void will error.</p>
<p>But a parallel to TRY is OPT, which changes blanks into nulls.  Previously the behavior for nulls was also to produce nulls, as a no-op.  But now the twist is <em>OPT turns nulls into voids</em>.</p>
<p>This stops you from having a value that you don't know if it contains blanks or nulls as an opting out form, but you OPT it "just to be sure".  You can still do that, with <strong>opt try (expression)</strong>, since TRY has to allow both blanks and nulls to become BLANK!.  It's unusual enough that you would want to do this that having the  unusual pairing is probably good for communicating that you don't really know which it is.</p>
<p>Something that voiding OPTed NULLS instantly helped with... <em>finding superfluous opts</em>.  I found several due to the change, where it was being called when it wasn't needed because the routine's failure naturally returned null already.  This is a holdover from when many routines would indicate "soft failure" with the none!-like BLANK!.</p>
        </div>

        <meta itemprop='headline' content='Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../we-really-need-a-better-name-for-really/1250/2.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/we-really-need-a-better-name-for-really/1250/2'>
                      <span itemprop='name'>We REALLY need a better name for... REALLY</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/why-or-why-not-have-unset-in-rebol-like-languages/113/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/why-or-why-not-have-unset-in-rebol-like-languages/113/2'>
                      <span itemprop='name'>Why (or why not) have UNSET! in Rebol-like Languages</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/null-first-class-values-and-safety/895/8" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/null-first-class-values-and-safety/895/8'>
                      <span itemprop='name'>NULL, first-class values, and safety</span>
                    </a>
                    <meta itemprop='position' content='5'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../name-for-prefix-forms-of-else-and-then-either-test-xxx/216/4.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='http://forum.rebol.info/t/name-for-prefix-forms-of-else-and-then-either-test-xxx/216/4'>
                      <span itemprop='name'>Name for prefix forms of ELSE and THEN... EITHER-TEST-XXX?</span>
                    </a>
                    <meta itemprop='position' content='6'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../when-has-stopping-void-or-old-unset-assignments-helped-you/1206.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/when-has-stopping-void-or-old-unset-assignments-helped-you/1206'>
                      <span itemprop='name'>When has Stopping VOID! (or old &quot;UNSET!&quot;) Assignments Helped You?</span>
                    </a>
                    <meta itemprop='position' content='7'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forum.rebol.info/t/does-set-any-get-any-thing-matter-anymore/1053" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/does-set-any-get-any-thing-matter-anymore/1053'>
                      <span itemprop='name'>Does SET/ANY, GET/ANY-thing matter anymore?</span>
                    </a>
                    <meta itemprop='position' content='8'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/BlackATTR'><span itemprop='name'>BlackATTR</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="947.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-12-08T15:46:15Z' class='post-time'>
                December 8, 2018,  3:46pm
              </time>
              <meta itemprop='dateModified' content='2018-12-08T15:46:15Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ornery value from an ornery fork. <img src="https://forum.rebol.info/images/emoji/twitter/wink.png?v=7" title=":wink:" class="emoji" alt=":wink:"></p>
        </div>

        <meta itemprop='headline' content='Why VOID! is not like UNSET! (and why it&#39;s &quot;more ornery&quot;)'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
