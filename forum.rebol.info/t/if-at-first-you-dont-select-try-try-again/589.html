<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>If at first you don&#39;t SELECT, TRY...TRY again? - Naming - AltRebol</title>
    <meta name="description" content="We have a function that converts blanks to nulls...but passes through everything else.  It&amp;#39;s called OPT 
&amp;gt;&amp;gt; opt 3
== 3

&amp;gt;&amp;gt; opt [a b c]
== [a b c]

&amp;gt;&amp;gt; opt _
; null

&amp;gt;&amp;gt; opt null
; null

While OPT is a bit more abbreviated &amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="589.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;If at first you don&#39;t SELECT, TRY...TRY again?&#39;" href="589.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/if-at-first-you-dont-select-try-try-again/589" />
<meta name="twitter:url" content="https://forum.rebol.info/t/if-at-first-you-dont-select-try-try-again/589" />
<meta property="og:title" content="If at first you don&#39;t SELECT, TRY...TRY again?" />
<meta name="twitter:title" content="If at first you don&#39;t SELECT, TRY...TRY again?" />
<meta property="og:description" content="We have a function that converts blanks to nulls...but passes through everything else.  It&#39;s called OPT  &gt;&gt; opt 3 == 3  &gt;&gt; opt [a b c] == [a b c]  &gt;&gt; opt _ ; null  &gt;&gt; opt null ; null  While OPT is a bit more abbreviated than one likes to see in Rebol, it has precedent in PARSE.  It&#39;s used frequently in English to discuss optional things. (&quot;opt-in&quot;, &quot;opt-out&quot;).  It has seemingly settled in comfortably in the &lt;opt&gt; parameter convention, which connects pretty strongly to the idea that if an OPT nat..." />
<meta name="twitter:description" content="We have a function that converts blanks to nulls...but passes through everything else.  It&#39;s called OPT  &gt;&gt; opt 3 == 3  &gt;&gt; opt [a b c] == [a b c]  &gt;&gt; opt _ ; null  &gt;&gt; opt null ; null  While OPT is a bit more abbreviated than one likes to see in Rebol, it has precedent in PARSE.  It&#39;s used frequently in English to discuss optional things. (&quot;opt-in&quot;, &quot;opt-out&quot;).  It has seemingly settled in comfortably in the &lt;opt&gt; parameter convention, which connects pretty strongly to the idea that if an OPT nat..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ❤" />
<meta property="article:published_time" content="2018-04-12T14:57:12+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="589.html">If at first you don&#39;t SELECT, TRY...TRY again?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/outdated-terminology.html' class='discourse-tag' rel="tag">outdated-terminology</a>, 
            <a href='../../tag/resolved.html' class='discourse-tag' rel="tag">resolved</a>
        </div>
      </div>
  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="589.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2018-04-12T14:57:12Z'>
              <time itemprop='dateModified' datetime='2019-04-27T18:12:40Z' class='post-time'>
                April 27, 2019,  6:12pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>We have a function that converts blanks to nulls...but passes through everything else.  It's called <strong>OPT</strong></p>
<pre><code>&gt;&gt; opt 3
== 3

&gt;&gt; opt [a b c]
== [a b c]

&gt;&gt; opt _
; null

&gt;&gt; opt null
; null
</code></pre>
<p>While OPT is a bit more abbreviated than one likes to see in Rebol, it has precedent in PARSE.  It's used frequently in English to discuss optional things. ("opt-in", "opt-out").  It has seemingly settled in comfortably in the <code>&lt;opt&gt;</code> parameter convention, which connects pretty strongly to the idea that if an OPT native did something, it would be related to that.</p>
<p>I've come to feel comfortable with it, personally.  But I've never really felt great about its converse...the routine that turns nulls into blanks, but passes through everything else.  We've been calling that <strong>TO-VALUE</strong>.</p>
<pre><code>&gt;&gt; to-value 3
== 3

&gt;&gt; to-value [a b c]
== [a b c]

&gt;&gt; to-value _
== _

&gt;&gt; to-value null
== _
</code></pre>
<p>I actually called it TO-VALUE independently when I added it--but later saw a post long prior where BrianH had noticed its necessity and called it the same thing.  <em>(He did so despite the fact that R3-Alpha allowed you to put "UNSET!s" in blocks, meaning they were what I would call "values"...I think the name makes a lot more sense now that the word "value" is not applied to null.  In implementation terminology, something that may or may not be a value is a "cell".)</em></p>
<p>As null has become the lingua-franca of "I didn't run that branch", it's needed somewhat frequently.  But unlike OPT, I never grew to like TO-VALUE.  It's long and ugly.  It suggests a connection to TO, as if TO VALUE! were a thing, and it isn't (and won't be).</p>
<p>There's a lot of variations when you need this, none of which ever look particularly good:</p>
<pre><code>case [
     ...
] else [
    blank
]

to-value case [
    ...
]

case [
    ...
    true [_]
]
</code></pre>
<p>The other day I came up with <strong>ran</strong> as a kind of query (did a branch run?) to get back LOGIC! true or false from a null or lack of one.  But that doesn't help if you want to pass through the value in most cases.</p>
<p>While idly flipping through possibilities one word came to mind that has another use historically, but could be repurposed: <strong>TRY</strong>.  <em>(The old use of TRY, as in <code>try/except</code> has been rethought more eloquently as TRAP, I feel)</em></p>
<p>Once I thought of this, it began to make me wonder if this was the missing link from the push/pull over whether things like SELECT should "misleadingly" and automatically conflate not-finding-things with finding blanks.  Early in Ren-C I'd changed it so that:</p>
<pre><code> &gt;&gt; select [a b c d] 'e
 ; null

 &gt;&gt; select [a b c d e _] 'e
 == _
</code></pre>
<p>This reflected--to me--the fundamental necessity of being able to distinguish these two states.  If you're writing serious code, especially generic code like in the mezzanine or a library, <em>this matters a lot</em>.  What <a class="mention" href="https://forum.rebol.info/u/rgchris">@rgchris</a> and <a class="mention" href="https://forum.rebol.info/u/markeye">@MarkEye</a> managed to sway me on was that there's quite a bit of user code which wants to gloss over this difference.  It's simply unlikely that that code would be putting BLANK! (or LOGIC! FALSE) in the data they're dealing with.</p>
<p>With the existence of CHAIN, I managed to assuage my systems-level concerns by implementing the lower levels in terms of names like <code>SELECT*</code>.  Then, SELECT could just be a pipe of that "true select" into a "user friendly" select:</p>
<pre><code>select: chain [:select* | :to-value]
</code></pre>
<p>But... might TRY be the bridge between readability/usability and technical coherence?  Imagine putting SELECT back to being the "real select"...the one that gives null if nothing's there, vs. conflating with blank:</p>
<pre><code>if x: try select [a b c d] 'e [
    ...
]  ; x will hold blank

if try x: select [a b c d] 'e [
    ...
]  ; x will be null
</code></pre>
<p>You have this ability to place the TRY at the point in the chain you want.  And it's literately saying something: you know this could not find what you asked for, and you're okay with that.  But a casual user will be protected, just as they are with using unassigned variables in general:</p>
<pre><code>x: select catalog part-number-i-assume-to-be-there
print ["The part number is" x]  ; error vs. just churning ahead
</code></pre>
<p>It seems applicable across the board.  <code>try pick</code>, <code>try first</code>, <code>try switch</code>... this short, descriptive word conveys your willingness to not find what you're looking for "disarm" the failure.  And by using null and fitting into that convention, the doors are open to ELSE and ALSO and all the great things that are there.</p>
<pre><code>x: select catalog part else [fail "part not found"]
</code></pre>
<p>Those conventions have changed the landscape, and the meaning and usefulness of null.  DID has come to replace TRUE?/FOUND? and <a href="http://blog.hostilefork.com/did-programming-opposite-of-not/" rel="nofollow noopener">I think it feels good</a>.  I'd be happy to see TO-VALUE get the axe too, and be replaced with an elegant 3-letter word.</p>
<p>It could fairly easily catch old instances of TRY, by noticing when it was applied to literal blocks.  So as conversions go it would be fairly safe.</p>
        </div>

        <meta itemprop='headline' content='If at first you don&#39;t SELECT, TRY...TRY again?'>
          <meta itemprop='keywords' content='outdated-terminology, resolved'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../null-first-class-values-and-safety/895.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='http://forum.rebol.info/t/null-first-class-values-and-safety/895'>
                      <span itemprop='name'>NULL, first-class values, and safety</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
