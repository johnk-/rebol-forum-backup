<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Can ANY, ALL, SOME have consistent meanings? - Naming - AltRebol</title>
    <meta name="description" content="These words are used in multiple places and don’t always mean parallel things. 
From some point of view, the idea that words have many different meanings is part of the point.  It still seems like when you’re putting thi&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="741.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Can ANY, ALL, SOME have consistent meanings?&#39;" href="741.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/can-any-all-some-have-consistent-meanings/741" />
<meta name="twitter:url" content="https://forum.rebol.info/t/can-any-all-some-have-consistent-meanings/741" />
<meta property="og:title" content="Can ANY, ALL, SOME have consistent meanings?" />
<meta name="twitter:title" content="Can ANY, ALL, SOME have consistent meanings?" />
<meta property="og:description" content="These words are used in multiple places and don&#39;t always mean parallel things.  From some point of view, the idea that words have many different meanings is part of the point.  It still seems like when you&#39;re putting things in the box together it might be nice if there was more consistency.  Not the highest priority thing to worry about, but definitely worth thinking about, so here are a few thoughts:  ALL [...] vs. CASE/ALL ALL is a short-circuit construct.  The first time it sees a falsey thin..." />
<meta name="twitter:description" content="These words are used in multiple places and don&#39;t always mean parallel things.  From some point of view, the idea that words have many different meanings is part of the point.  It still seems like when you&#39;re putting things in the box together it might be nice if there was more consistency.  Not the highest priority thing to worry about, but definitely worth thinking about, so here are a few thoughts:  ALL [...] vs. CASE/ALL ALL is a short-circuit construct.  The first time it sees a falsey thin..." />
<meta property="article:published_time" content="2018-07-15T18:35:24+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="741.html">Can ANY, ALL, SOME have consistent meanings?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="741.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2018-07-15T18:35:24Z'>
              <time itemprop='dateModified' datetime='2018-07-18T11:22:08Z' class='post-time'>
                July 18, 2018, 11:22am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>These words are used in multiple places and don't always mean parallel things.</p>
<p>From some point of view, the idea that words have many different meanings is part of the point.  It still seems like when you're putting things in the box together it might be nice if there was more consistency.</p>
<p>Not the highest priority thing to worry about, but definitely worth thinking about, so here are a few thoughts:</p>
<h3>ALL [...] vs. CASE/ALL</h3>
<p>ALL is a <em>short-circuit</em> construct.  The first time it sees a falsey thing, it stops.</p>
<pre><code>&gt;&gt; all [(probe 1) (probe 2 false) (probe 3)]
1
;-- null
</code></pre>
<p>But CASE/ALL takes away CASE's natural "ALL-like" short circuiting.  The /ALL makes it evaluate <em>every</em> condition, potentially running branches even after it has seen falsey conditions:</p>
<pre><code>&gt;&gt; case/all [true [probe 1] false [probe 2] true [probe 3]]
1
3
== 3
</code></pre>
<p>Ren-C chose to make CASE/ALL return <em>the evaluation of the branch associated with the last truthy condition</em>.  (Rebol2 and Red just return false if the last condition was falsey.)  That aside, both of them evaluate "all of the cases".</p>
<p>Could we have a word for something that wasn't short-circuit, yet evaluated "all" of the conditions...and just returned the last truthy one or NULL?</p>
<h3>ANY [...] vs. PARSE's ANY</h3>
<p>PARSE's ANY means "match this rule any number of times, including 0 times".  In the past I've griped about the use of the word.  If PARSE were a fruit stand the conversation might go like:</p>
<blockquote>
<p><strong>me:</strong> "Do you have any apples?"<br>
<strong>parse:</strong> "Yes."<br>
<strong>me:</strong> "Can I buy an apple?"<br>
<strong>parse:</strong> "No."<br>
<strong>me:</strong> "I'm <a href="https://www.youtube.com/watch?v=i3HokGUffcU" rel="nofollow noopener">not @gchiu</a>...so why not?"<br>
<strong>parse:</strong> "Because I have zero apples."<br>
<strong>me:</strong> "Why didn't you didn't tell me you didn't have any?"<br>
<strong>parse:</strong> "Because I do.  I just don't have <em>some</em>."</p>
</blockquote>
<p>What bothered me was how much in direct contradiction with ANY's use in the language this was:</p>
<pre><code>if any [
    1 &gt; 2
    3 &gt; 4
][
    print "if 0 matching conditions was 'any', this would run"
]
</code></pre>
<p>One thought is that we don't really have a single word that means "zero or any number of".  So why have a single word in PARSE?  It could just be <strong>OPT SOME</strong>, which is unambiguous:</p>
<pre><code>;-- any number of "a"s (including zero), followed by some "bs"
parse "bbb" [any "a" some "b"]

;-- optionally some "a"s, followed by some "b"s
parse "bbb" [opt some "a" some "b"]
</code></pre>
<p>I think it would be a reasonable argument for getting rid of ANY, even if there weren't a direct opposition in every day use coming from <code>ANY [...]</code>.  One less thing to be confusing, one less thing to teach.</p>
<p>The true parallel application of ANY in PARSE would be to pick the first matching parse rule out of a list.  But that's currently implicit: just having a BLOCK! with <code>|</code> between expressions turns it into PARSE's idea of an ANY:</p>
<pre><code> parse "abcbca" [some [any ["a" | "bc"]]
</code></pre>
<p>But you don't want to have to say that any time you are making an alternate rule.  I'm just trying to make the point that It just seems that it might be clearer if ANY wasn't an iterative construct.</p>
<h3>So, thoughts...?</h3>
<ul>
<li>Has anyone ever thought that ANY in PARSE was kind of confusing?  Could you get behind OPT SOME?</li>
<li>Is there any name for an ANY-or-ALL-like thing which would evaluate all its conditions and return the last truthy result, else NULL?  Could it have a catchy name to fill in CASE/XXX instead of CASE/ALL?</li>
</ul>
        </div>

        <meta itemprop='headline' content='Can ANY, ALL, SOME have consistent meanings?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='../../u/Mark-hi.html'><span itemprop='name'>Mark-hi</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="741.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2018-07-16T02:20:41Z'>
              <time itemprop='dateModified' datetime='2020-09-22T04:24:35Z' class='post-time'>
                September 22, 2020,  4:24am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Currently parse keywords only apply to rules, not to other keywords. So there's no nesting, or keyword stack. I think this is important enough for readability to preserve if at all possible.</p>
        </div>

        <meta itemprop='headline' content='Can ANY, ALL, SOME have consistent meanings?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="741.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-07-16T02:42:44Z' class='post-time'>
                July 16, 2018,  2:42am
              </time>
              <meta itemprop='dateModified' content='2018-07-16T02:42:44Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-post="2" data-topic="741">
<div class="title">
<div class="quote-controls"></div>
<img alt width="20" height="20" src="../../user_avatar/forum.rebol.info/markeye/40/202_2.png" class="avatar"> MarkEye:</div>
<blockquote>
<p>Currently parse keywords only apply to rules, not to other keywords.</p>
</blockquote>
</aside>
<p>Not sure what you're referring to, but if it's <strong>opt some</strong>, that's not a rule in and of itself.  OPT acts on the rule after it, allowing its failure to still count as success:</p>
<pre><code>&gt;&gt; did parse "bbb" [opt some "a" some "b"]
== true

&gt;&gt; did parse "aaabbb" [opt some "a" some "b"]
== true
</code></pre>
<p>Works as expected, clears up the problems with ANY.</p>
        </div>

        <meta itemprop='headline' content='Can ANY, ALL, SOME have consistent meanings?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
