<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT) - Naming - AltRebol</title>
    <meta name="description" content="When I first proposed NewPath years ago, there was resistance to the idea that FILE! have structure by default.  @rgchris insisted %foo/bar was best left unstructured and string-like.  Compromises were suggested like (%f&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1386.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT)&#39;" href="1386.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/the-newpath-finesse-make-file-lit/1386" />
<meta name="twitter:url" content="https://forum.rebol.info/t/the-newpath-finesse-make-file-lit/1386" />
<meta property="og:title" content="The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT)" />
<meta name="twitter:title" content="The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT)" />
<meta property="og:description" content="When I first proposed NewPath years ago, there was resistance to the idea that FILE! have structure by default.  @rgchris insisted %foo/bar was best left unstructured and string-like.  Compromises were suggested like (%foo)/bar to get a PATH!, but this did not satisfy anyone really.  So things just kind of sat around in a stuck state for a while.  But I persisted in believing that hammering out a clean PATH! and TUPLE! mechanic would pay dividends with time.  Today we have those clean types and ..." />
<meta name="twitter:description" content="When I first proposed NewPath years ago, there was resistance to the idea that FILE! have structure by default.  @rgchris insisted %foo/bar was best left unstructured and string-like.  Compromises were suggested like (%foo)/bar to get a PATH!, but this did not satisfy anyone really.  So things just kind of sat around in a stuck state for a while.  But I persisted in believing that hammering out a clean PATH! and TUPLE! mechanic would pay dividends with time.  Today we have those clean types and ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2020-11-06T05:53:25+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1386.html">The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1386.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2020-11-06T05:53:25Z'>
              <time itemprop='dateModified' datetime='2020-11-13T10:29:01Z' class='post-time'>
                November 13, 2020, 10:29am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>When I first proposed NewPath years ago, there was resistance to the idea that FILE! have structure by default.  <a class="mention" href="https://forum.rebol.info/u/rgchris">@rgchris</a> insisted <strong>%foo/bar</strong> was best left unstructured and string-like.  Compromises were suggested like <strong>(%foo)/bar</strong> to get a PATH!, but this did not satisfy anyone really.  So things just kind of sat around in a stuck state for a while.</p>
<p>But I persisted in believing that hammering out a clean PATH! and TUPLE! mechanic would pay dividends with time.  Today we have those clean types and are sorting through the implications.</p>
<p>A lot of great ideas are coming out of the sky this week, and here is what I think is poised to be another great one:</p>
<h2>%% Quotes WORD!/PATH!/TUPLE! for MAKE FILE!</h2>
<p>Let's imagine that %% is given to WORD!, and defaults to an operator which quotes its right hand side and makes a file out of it.</p>
<pre><code>&gt;&gt; %% foo/bar
== %foo/bar

&gt;&gt; %% foo/(second [bar baz])
== %foo/baz

&gt;&gt; extension: %txt
&gt;&gt; %% ~/projects/myfile.(extension)
== %~/projects/myfile.txt
</code></pre>
<p>If what you have is a PATH! already you can escape it with colon:</p>
<pre><code>&gt;&gt; path: 'foo/(reverse "rab").txt
&gt;&gt; %% :path
== %foo/bar.txt
</code></pre>
<p>This form probably is more comprehensible as <strong>make file! path</strong>, however.</p>
<h2>Why Double-Percent Instead of Single?</h2>
<p>Superbig reason: Single percent would lead to ambiguity of <strong>%/foo</strong> as a FILE! and as a PATH!.</p>
<p>One might think of workarounds like <strong>(:%)/foo</strong> to call a refinement on a function, and think that might be okay.  But the moment you do a COMPOSE on a PATH! with something you think is a valid WORD! and wind up with something that molds like a file, <em>it's sacrificed all the work on coherence that has been done</em>.</p>
<p>That reason alone would be good enough.  But the visibility is much better with the double operator, while the single one kind of disappears:</p>
<pre><code>&gt;&gt; % foo.(if true ['txt])
== %foo.txt

&gt;&gt; %foo.(if true ['txt])  ; imagine matched () are allowed
== %foo.(if true ['txt])
</code></pre>
<p>Doubling helps keep the connotation to files while being sufficiently different to call attention to the fact that it's an extremely different quoting operator.</p>
<p>This sacrifices files named <strong>%%</strong> as needing to be written as <strong>%"%"</strong>.  In the scheme of things, I don't think that's too big a deal.  Percent signs in general could be used, in <strong>%foo%4E</strong> type files...though that looks kind of strange and maybe <strong>%"foo%4E"</strong> is better, where % is considered one of those characters that warrants putting the filename in quotes.</p>
<h2>The Breakthrough We've Been Waiting For</h2>
<p>This seems to check all the boxes.  It means we don't have to worry about making things like READ take plain PATH! or WORD! or TUPLE! in some confusing way.  The notion that it takes a file is very cleanly and very directly communicated by the operator... and this is coupled with showing the exact moment at which GROUP!s will be evaluated.</p>
        </div>

        <meta itemprop='headline' content='The NewPath Finesse: %%: (&lt;- MAKE FILE! LIT)'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../make-file-and-unleashed-time-to-use-it/1398.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/make-file-and-unleashed-time-to-use-it/1398'>
                      <span itemprop='name'>MAKE-FILE and %% Unleashed: Time To Use It</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
