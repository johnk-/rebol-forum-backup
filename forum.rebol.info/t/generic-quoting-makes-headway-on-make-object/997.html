<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Generic Quoting Makes Headway on MAKE OBJECT! - Internals - AltRebol</title>
    <meta name="description" content="Rebol2/R3-Alpha/Red have a notation for molding out objects: 
Red&amp;gt;&amp;gt; obj: make object! [a: 10]
== make object! [
    a: 10
]

Letâ€™s ignore for the moment the fact that itâ€™s giving a sequence of what looks to be two words &amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="997.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Generic Quoting Makes Headway on MAKE OBJECT!&#39;" href="997.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/generic-quoting-makes-headway-on-make-object/997" />
<meta name="twitter:url" content="https://forum.rebol.info/t/generic-quoting-makes-headway-on-make-object/997" />
<meta property="og:title" content="Generic Quoting Makes Headway on MAKE OBJECT!" />
<meta name="twitter:title" content="Generic Quoting Makes Headway on MAKE OBJECT!" />
<meta property="og:description" content="Rebol2/R3-Alpha/Red have a notation for molding out objects:  Red&gt;&gt; obj: make object! [a: 10] == make object! [     a: 10 ]  Let&#39;s ignore for the moment the fact that it&#39;s giving a sequence of what looks to be two words and a block to denote a single OBJECT!.  What it&#39;s trying to do is give you a syntax that looks like what it would take to create the object if typed from source.   (Perhaps it would more appropriately be SOURCE OBJ vs. MOLD OBJ)  But there are some pretty big problems.  What if ..." />
<meta name="twitter:description" content="Rebol2/R3-Alpha/Red have a notation for molding out objects:  Red&gt;&gt; obj: make object! [a: 10] == make object! [     a: 10 ]  Let&#39;s ignore for the moment the fact that it&#39;s giving a sequence of what looks to be two words and a block to denote a single OBJECT!.  What it&#39;s trying to do is give you a syntax that looks like what it would take to create the object if typed from source.   (Perhaps it would more appropriately be SOURCE OBJ vs. MOLD OBJ)  But there are some pretty big problems.  What if ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2019-01-05T08:39:43+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="997.html">Generic Quoting Makes Headway on MAKE OBJECT!</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/internals.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Internals</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="997.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-01-05T08:39:43Z'>
              <time itemprop='dateModified' datetime='2019-01-05T08:55:40Z' class='post-time'>
                January 5, 2019,  8:55am
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Rebol2/R3-Alpha/Red have a notation for molding out objects:</p>
<pre><code>Red&gt;&gt; obj: make object! [a: 10]
== make object! [
    a: 10
]
</code></pre>
<p>Let's ignore for the moment the fact that it's giving a sequence of what looks to be two words and a block to denote a single OBJECT!.  What it's trying to do is give you a syntax that looks like what it would take to create the object if typed from source.   (Perhaps it would more appropriately be SOURCE OBJ vs. MOLD OBJ)</p>
<p>But there are some pretty big problems.  What if you said:</p>
<pre><code>Red&gt;&gt; obj: make object! [g: quote (1 + 2) n: 0 unset 'n w: quote 'word]
== make object! [
    g: (1 + 2)
    n: unset
    w: 'word
]
</code></pre>
<p>The resulting MOLDing MAKE OBJECT! doesn't get close to what it's trying to capture.</p>
<ul>
<li>In the original object G is a "PAREN!" with (1 + 2).  Running that MAKE OBJECT! would give you G of INTEGER 3.</li>
<li>We'll assume it meant #[unset] instead of the word UNSET (which here, would unset <code>word</code>).  If it had said what it meant, the make object! would have failed, as it's not legal to assign unsets via set-word.</li>
<li>W would come out as a WORD! here, instead of the LIT-WORD! in the original object.</li>
</ul>
<h2>Generalized escaping to the rescue</h2>
<p>Ren-C doesn't have a full solution to the problem of round-trip representations as text.  But now, when it comes to this, it's at least a powerful step closer:</p>
<pre><code>&gt;&gt; obj: make object! [g: lit (1 + 2) n: 0 unset 'n w: lit 'word]
== make object! [
    g: '(1 + 2)
    n: '
    w: ''word
]
</code></pre>
<p>Here we see these loopholes getting closed.  The make is actually able to produce a structurally identical object <em>(like I said, let's avoid talking about binding, that's its own conversation)</em>.  Note the unusual-but-very-important aspect that a single apostrophe evaluates to null.</p>
<p>It's not necessary to put the apostrophe on all items, only those that evaluate...so the system should probably only add them if needed:</p>
<pre><code>&gt;&gt; obj: make object! [i: 10 t: "hello" p: ''a/b/c]
== make object! [
    i: 10
    t: "hello"
    p: ''a/b/c
]
</code></pre>
<p>INTEGER! and TEXT! can be left as-is, so perhaps worth it to do so.  Here we see a LIT-PATH!, escaped in the original representation for its assignment, escaped again for its re-representation.</p>
<p><strong>This generalized-escaping-based mechanism replaces a previous attempt to deal with the issue, and gives strong evidence that the effort was time well spent.</strong>  <img src="../../images/emoji/twitter/face_with_monocle.png%3Fv=7" title=":face_with_monocle:" class="emoji" alt=":face_with_monocle:"></p>
<hr>
<p><em>(P.S. It had been a topic of debate for a while, as to whether you should have to escape <code>Rebol [Type: 'module]</code> or if that was just noise.  For overall consistency with the round-tripping of these kinds of structures, I think the apostrophe needs to be mandatory on evaluative types...it seems like there's now a coherent story on this.)</em></p>
        </div>

        <meta itemprop='headline' content='Generic Quoting Makes Headway on MAKE OBJECT!'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../leveraging-other-programming-languages-to-make-a-compiled-renc/1420/8.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/leveraging-other-programming-languages-to-make-a-compiled-renc/1420/8'>
                      <span itemprop='name'>Leveraging other programming languages to make a compiled RenC</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../reds-design-issues-wiki/1282.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/reds-design-issues-wiki/1282'>
                      <span itemprop='name'>Red&#39;s Design Issues Wiki</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../intentionally-specializing-with-null/1168.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/intentionally-specializing-with-null/1168'>
                      <span itemprop='name'>Intentionally Specializing With NULL</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="http://forum.rebol.info/t/has-hasnt-worked-rethink-construct/1058" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='http://forum.rebol.info/t/has-hasnt-worked-rethink-construct/1058'>
                      <span itemprop='name'>HAS hasn&#39;t (worked) ...rethink CONSTRUCT?</span>
                    </a>
                    <meta itemprop='position' content='4'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../seeing-all-action-s-as-variadic-frame-makers/1002.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='http://forum.rebol.info/t/seeing-all-action-s-as-variadic-frame-makers/1002'>
                      <span itemprop='name'>Seeing all ACTION!s as variadic FRAME!-makers</span>
                    </a>
                    <meta itemprop='position' content='5'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="997.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-06-19T02:27:41Z'>
              <time itemprop='dateModified' datetime='2021-06-19T02:31:15Z' class='post-time'>
                June 19, 2021,  2:31am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="997">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>Let's ignore for the moment the fact that it's giving a sequence of what looks to be two words and a block to denote a single OBJECT!. What it's trying to do is give you a syntax that looks like what it would take to create the object if typed from source. (Perhaps it would more appropriately be SOURCE OBJ vs. MOLD OBJ)</p>
<p>But there are some pretty big problems.</p>
</blockquote>
</aside>
<p>It's amusing to see 2 years later that Red is <a href="https://gitter.im/red/help?at=60c9d3eab317311354322d87">only beginning to discuss the question</a>.</p>
<p>Oldes says:</p>
<blockquote>
<p>"To be honest, I'm not sure if it's correct in Red. I think Red's behavior is inconsistent.<br>
I believe that these 3 results should not be same:"</p>
<pre><code>red&gt;&gt; body-of make object! [a: 1 + 1 c: to lit-word! 'a]
== [
   a: 2 
   c: 'a
]

red&gt;&gt; body-of make object! [a: 1 + 1 c: 'a]
== [
    a: 2 
    c: 'a
]

red&gt;&gt; body-of make object! [a: 1 + 1 c: to word! 'a]
== [
    a: 2 
    c: 'a
]
</code></pre>
</blockquote>
<p>They then try to discuss it, but of course they've rejected the techniques that can resolve it... generic quoting, an unset assignment form, BAD-WORD! notations...</p>
<p>I'll again point out that there are still fundamental issues with representing bound structures via a text-based round trip that should not be ignored.  But, for the basic considerations here are fairly well considered.  Even things like the difference between an isotope BAD-WORD! and a non-isotope:</p>
<pre><code>ren-c&gt;&gt; obj: make object! [a: '~unset~, b: ~unset~]
== make object! [
    a: '~unset~
    b: ~unset~
]

ren-c&gt;&gt; obj.a
== ~unset~

ren-c&gt;&gt; obj.b
** Script Error: obj.b is ~unset~ isotope (see ^(...) and GET/ANY)
</code></pre>
<p>Since we're working on reminders of what META-XXX types do...they will allow you to get the value with a quoting level added, but it will bump the isotope to plain status:</p>
<pre><code>ren-c&gt;&gt; ^obj.a
== '~unset~

ren-c&gt;&gt; ^obj.b
== ~unset~
</code></pre>
<p>There's simply a lot of solutions here bearing fruit, while their understanding has not moved an inch since Rebol2.  <img src="../../images/emoji/twitter/man_shrugging.png%3Fv=9" title=":man_shrugging:" class="emoji" alt=":man_shrugging:"></p>
        </div>

        <meta itemprop='headline' content='Generic Quoting Makes Headway on MAKE OBJECT!'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
