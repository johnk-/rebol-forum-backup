<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>HAS hasn&#39;t (worked) ...rethink CONSTRUCT? - Naming - AltRebol</title>
    <meta name="description" content="Back long ago–before I knew I’d somehow have spent years solving issues with this crazy language–we were looking for how to deal with the OBJECT and CONTEXT words. 
It’s not very good to use nouns as verbs.  It seems lik&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1058.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;HAS hasn&#39;t (worked) ...rethink CONSTRUCT?&#39;" href="1058.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/has-hasnt-worked-rethink-construct/1058" />
<meta name="twitter:url" content="https://forum.rebol.info/t/has-hasnt-worked-rethink-construct/1058" />
<meta property="og:title" content="HAS hasn&#39;t (worked) ...rethink CONSTRUCT?" />
<meta name="twitter:title" content="HAS hasn&#39;t (worked) ...rethink CONSTRUCT?" />
<meta property="og:description" content="Back long ago--before I knew I&#39;d somehow have spent years solving issues with this crazy language--we were looking for how to deal with the OBJECT and CONTEXT words.  It&#39;s not very good to use nouns as verbs.  It seems like you would write something like context: binding of &#39;some-word, not obj: context [x: 10 y: 20].  Rebol2 had CONTEXT, and then R3-Alpha added OBJECT as being slightly different:  object: func [     &quot;Defines a unique object.&quot;     blk [block!] &quot;Object words and values (modified)&quot;..." />
<meta name="twitter:description" content="Back long ago--before I knew I&#39;d somehow have spent years solving issues with this crazy language--we were looking for how to deal with the OBJECT and CONTEXT words.  It&#39;s not very good to use nouns as verbs.  It seems like you would write something like context: binding of &#39;some-word, not obj: context [x: 10 y: 20].  Rebol2 had CONTEXT, and then R3-Alpha added OBJECT as being slightly different:  object: func [     &quot;Defines a unique object.&quot;     blk [block!] &quot;Object words and values (modified)&quot;..." />
<meta property="article:published_time" content="2019-02-06T13:49:30+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1058.html">HAS hasn&#39;t (worked) ...rethink CONSTRUCT?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/naming/32" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Naming</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1058.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2019-02-06T13:49:30Z'>
              <time itemprop='dateModified' datetime='2019-02-06T16:05:20Z' class='post-time'>
                February 6, 2019,  4:05pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Back long ago--before I knew I'd somehow have spent years solving issues with this crazy language--we were looking for how to deal with the OBJECT and CONTEXT words.</p>
<p>It's not very good to use nouns as verbs.  It seems like you would write something like <strong>context: binding of 'some-word</strong>, not <strong>obj: context [x: 10 y: 20]</strong>.</p>
<p>Rebol2 had CONTEXT, and then R3-Alpha added OBJECT as being slightly different:</p>
<pre><code>object: func [
    "Defines a unique object."
    blk [block!] "Object words and values (modified)"
][
    make object! append blk none
]

context: func [
    "Defines a unique object."
    blk [block!] "Object words and values (modified)"
][
    make object! blk
]
</code></pre>
<p>So there's a puzzling difference to add into the mix.</p>
<h2>The HAS suggestion</h2>
<p>There was increasing talk of OBJECT! having a "spec" like functions did.  You'd be able to specify the types of the keys, or if things were public/private.  Ren-C came along with questions of how to resolve the situation of wanting to have keys be null, yet being unable to literally represent nulls in blocks.</p>
<p>This environment gave rise to the idea of an arity-2 object constructor.  The name CONSTRUCT (which had another purpose historically in Rebol) was thought to be taken for this arity-2 form.  Then, in the same way that DOES was an arity-1 function, HAS would be an arity-1 constructor for objects.</p>
<pre><code>foo: function [x [integer!] &lt;local&gt; y] [y: 1 | x + 1]
printer: does [print "hi"]

obj: construct [x [integer!] &lt;private&gt; y] [x: 10 y: 20]
cat: has [claws: yes | teeth: yes]
</code></pre>
<h2>Sounds interesting in theory, in practice I haven't cared for it</h2>
<p>This has been around for quite a while, and I still use MAKE OBJECT! all the time.  Part of that is compatibility, but also I just don't know if it scans very well.  Also, some problems with MAKE OBJECT! have been <a href="../generic-quoting-makes-headway-on-make-object/997.html">resolved with generalized quoting</a></p>
<p>What I <em>have</em> really been wanting would be an infix way of testing for fields in objects.  Maybe even a soft quoting form.  Making IN infix has some downsides, so HAS might be a fit there...and maybe CONSTRUCT is the better word to take to replace CONTEXT and OBJECT</p>
<pre><code>&gt;&gt; cat: construct [claws: yes | teeth: yes]

&gt;&gt; cat has teeth
== #[true]

&gt;&gt; print either cat has (first [claws tusks]) ["scratch"] ["poke"]
scratch

&gt;&gt; cat has gun
== #[false]
</code></pre>
<p>Quoted or not (could just be <code>cat has 'teeth</code>, permitting <code>cat has first [claws tusks]</code> with no GROUP!), this just seems to fit better for the word, and something you'd use all the time (or at least I would).  So I'll propose the HAS/DOES parallel was a red herring, and it's time to put that on ice.</p>
<h2>...and then...what if CONSTRUCT could use "predicates"?</h2>
<p>What if this new form of construct was willing to go field by field in the spec, and use a function on each step?  <em>(Not technically a predicate because it doesn't return LOGIC!, I don't know what we would call the more general form.)</em></p>
<pre><code>&gt;&gt; foo: 10

&gt;&gt; construct .negative [x: foo y: (1 + 2)]
== make object! [x: -10 y: -3]

&gt;&gt; construct .quote [x: foo y: (1 + 2)]
== make object! [x: 'foo | y: '(1 + 2)]
</code></pre>
<p>This could give the lone CONSTRUCT the necessary polymorphism to load module headers as well as do any number of other things.</p>
<p>None of this gets us any closer to having specs for objects.  But if you read <a href="https://forum.rebol.info/t/seeing-all-action-s-as-variadic-frame-makers/1002">Seeing ACTION!s as Generalized FRAME!-makers</a>, it may be things should go the other direction, to where actions <em>don't</em> have specs.</p>
<p>Thoughts?</p>
        </div>

        <meta itemprop='headline' content='HAS hasn&#39;t (worked) ...rethink CONSTRUCT?'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
