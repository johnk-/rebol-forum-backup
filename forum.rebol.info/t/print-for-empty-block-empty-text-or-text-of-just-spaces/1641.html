<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces - Console - AltRebol</title>
    <meta name="description" content="I just wrote something I thought was kind of neat, a way to do indentation via COLLECT: 
print [collect [repeat indent [keep tab]]], &amp;quot;some indented stuff&amp;quot;]

So if INDENT were 3 this would act as: 
print [[#&amp;quot;^-&amp;quot; #&amp;quot;^-&amp;quot; #&amp;quot;^&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1641.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces&#39;" href="1641.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/print-for-empty-block-empty-text-or-text-of-just-spaces/1641" />
<meta name="twitter:url" content="https://forum.rebol.info/t/print-for-empty-block-empty-text-or-text-of-just-spaces/1641" />
<meta property="og:title" content="PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces" />
<meta name="twitter:title" content="PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces" />
<meta property="og:description" content="I just wrote something I thought was kind of neat, a way to do indentation via COLLECT:  print [collect [repeat indent [keep tab]]], &quot;some indented stuff&quot;]  So if INDENT were 3 this would act as:  print [[#&quot;^-&quot; #&quot;^-&quot; #&quot;^-&quot;] &quot;some indented stuff&quot;]  This made me feel like the historical answer of PRINT treating a BLOCK! of material as if it were a set of already-reduced and calculated parts was probably a good answer.  In the past I&#39;ve questioned it, but I think the value is demonstrated right the..." />
<meta name="twitter:description" content="I just wrote something I thought was kind of neat, a way to do indentation via COLLECT:  print [collect [repeat indent [keep tab]]], &quot;some indented stuff&quot;]  So if INDENT were 3 this would act as:  print [[#&quot;^-&quot; #&quot;^-&quot; #&quot;^-&quot;] &quot;some indented stuff&quot;]  This made me feel like the historical answer of PRINT treating a BLOCK! of material as if it were a set of already-reduced and calculated parts was probably a good answer.  In the past I&#39;ve questioned it, but I think the value is demonstrated right the..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2021-07-31T13:37:49+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1641.html">PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/domains/console-development.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Console</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1641.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-07-31T13:37:49Z'>
              <time itemprop='dateModified' datetime='2021-07-31T15:17:07Z' class='post-time'>
                July 31, 2021,  3:17pm
              </time>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I just wrote something I thought was kind of neat, a way to do indentation via COLLECT:</p>
<pre><code>print [collect [repeat indent [keep tab]]], "some indented stuff"]
</code></pre>
<p>So if INDENT were 3 this would act as:</p>
<pre><code>print [[#"^-" #"^-" #"^-"] "some indented stuff"]
</code></pre>
<p><strong>This made me feel like the historical answer of PRINT treating a BLOCK! of material as if it were a set of already-reduced and calculated parts was probably a good answer.</strong>  In the past I've questioned it, but I think the value is demonstrated right there.</p>
<p><em>(I'll also point out that with GET-BLOCK!, we'll have a nice way of asking to reduce the block first... <strong><code>print ["For instance:" :[your vars here]]</code></strong>...this lets you mix up spaced and unspaced parts easily!)</em></p>
<p>But then I noticed it was screwing up in the base case of zero indentation, e.g.</p>
<pre><code>ren-c&gt;&gt; print [[] "some stuff"]
 some stuff
</code></pre>
<p>There's an extra leading space there.  <img src="../../images/emoji/twitter/frowning.png%3Fv=9" title=":frowning:" class="emoji" alt=":frowning:">  Checking Red, it does the same thing:</p>
<pre><code>red&gt;&gt; print [[] "some stuff"]
 some stuff
</code></pre>
<p>It made me wonder, does Rebol2 do this?</p>
<pre><code>rebol2&gt;&gt; print [[] "some stuff"]
some stuff
</code></pre>
<p>Oddly no.  Did R3-Alpha?</p>
<pre><code>r3-alpha&gt;&gt; print [[] "some stuff"]
some stuff
</code></pre>
<p>Again no.  Is it putting spacing around non-empty blocks?</p>
<pre><code>r3-alpha&gt;&gt; print [["test"] "some stuff"]
test some stuff
</code></pre>
<p>Well, yes.  But what if that string were empty?</p>
<pre><code>r3-alpha&gt;&gt; print [[""] "some stuff"]     
some stuff
</code></pre>
<p><em>The reason Red and Ren-C have the extra space is because there's a generic handling of turning values into strings that adds spacing even if a string is empty.</em></p>
<p>But waitasec: <strong>How does Rebol2 know psychically in advance whether a molding operation is going to produce content or not?</strong>  It would have to use a separate buffer, and I can't imagine Carl doing that.</p>
<p>So let's try something else:</p>
<pre><code>rebol2&gt;&gt; print ["here's" [] "some stuff"]
here's  some stuff
</code></pre>
<p>There's the extra space, due to not being psychic.</p>
<p>We see some weird exception was made regarding empty strings that didn't have a holistic answer.  Red and Ren-C both lack that broken weird exception.</p>
<p>So what can we do to get desirable results in a non-broken way?</p>
<h2>Empty BLOCK! Should Act The Same As NULL</h2>
<p>I've been firm on the "detail" that NULL vaporization really means it's as if it weren't there, and the spacing acts appropriately:</p>
<pre><code>&gt;&gt; print ["here's" if false ["!!!"] "some stuff"]
here's some stuff
</code></pre>
<p>That's one of my non-negotiables.  Now I'm going to add another to the list:</p>
<pre><code>&gt;&gt; print ["here's" [] "some stuff"]
here's some stuff
</code></pre>
<p>It's tempting to add another one, which is to not put spacing around empty strings:</p>
<pre><code>&gt;&gt; print ["here's" {} "some stuff"]
here's some stuff
</code></pre>
<p>The reasoning is that I don't see why robotically putting spacing around an empty string would ever be useful.  But this is a slippery slope.  What if the string contains just spaces, let's say 4?</p>
<pre><code>&gt;&gt; print ["here's" {    } "some stuff"]
here's    some stuff
</code></pre>
<p>Should there be 4 spaces in that gap?  5 spaces?  6?</p>
<p>Mechanically the easiest answer would be 6...which is to say that it's agnostic about the string contents and just puts one space before and one space after.  Doing anything else requires analyzing the molded content, which is methodized in the general case.</p>
<p><em>But the empty string case doesn't really require you to analyze the molded contents.</em>  It just requires you to notice how much the pre-delimiter added to the molding buffer...and then if the buffer didn't get any longer during the molding operation, backtrack the buffer index behind the now-superfluous delimiter.</p>
<p><strong>To my mind it's worth it to just make the exemption that empty moldings do not get delimited.</strong>  It's a more useful behavior and puts Ren-C once again in the clear lead for usage sanity.  <img src="../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../block-behavior-in-delimit-hence-spaced-unspaced-print/1642.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forum.rebol.info/t/block-behavior-in-delimit-hence-spaced-unspaced-print/1642'>
                      <span itemprop='name'>BLOCK! Behavior In DELIMIT (hence SPACED, UNSPACED, PRINT)</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1641.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-07-31T16:36:30Z'>
              <time itemprop='dateModified' datetime='2021-07-31T16:52:25Z' class='post-time'>
                July 31, 2021,  4:52pm
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <aside class="quote no-group" data-username="hostilefork" data-post="1" data-topic="1641">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forum.rebol.info/user_avatar/forum.rebol.info/hostilefork/40/26_2.png" class="avatar"> hostilefork:</div>
<blockquote>
<p>The reasoning is that I don't see why robotically putting spacing around an empty string would ever be useful. But this is a slippery slope.</p>
</blockquote>
</aside>
<p>Okay, I take this particular bit (empty string) back.</p>
<p>Imagine the delimiter is not a space, but say... a colon.</p>
<pre><code>&gt;&gt; field1: "one"
&gt;&gt; field2: ""
&gt;&gt; field3: "three"
&gt;&gt; delimit ":" [field1 field2 field3]
== [one::three]
</code></pre>
<p>You want that second colon there.  And technically speaking there's no reason you couldn't use spaces as a delimiter for a format that required spaces to be escaped in the content (or not allowed at all).</p>
<p><em>But I'm going to say an empty block with no contents has more in common with null than an empty string.</em></p>
<p>If you are unhappy that empty strings are giving you two spaces, then use nulls/blanks like you are supposed to.</p>
        </div>

        <meta itemprop='headline' content='PRINT for empty BLOCK!, empty TEXT!, or Text of Just Spaces'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
