<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Using URL! for an IPv6 Type - Datatypes - AltRebol</title>
    <meta name="description" content="TUPLE! is now generalized, and can be mixed with paths, which I think is a good direction.  It&amp;#39;s also encouraging that it is mostly compatible with the previous kind of tuple. 
However, those who think tuples were primar&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1627.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Using URL! for an IPv6 Type&#39;" href="1627.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/using-url-for-an-ipv6-type/1627" />
<meta name="twitter:url" content="https://forum.rebol.info/t/using-url-for-an-ipv6-type/1627" />
<meta property="og:title" content="Using URL! for an IPv6 Type" />
<meta name="twitter:title" content="Using URL! for an IPv6 Type" />
<meta property="og:description" content="TUPLE! is now generalized, and can be mixed with paths, which I think is a good direction.  It&#39;s also encouraging that it is mostly compatible with the previous kind of tuple.  However, those who think tuples were primarily for representing IP addresses will note that this doesn&#39;t really help you with representing IPv6 addresses.  I was closing some old rebol-issues and noticed there was a suggestion from earl of tackling this via the URL! type.  I thought I would link to that discussion and the..." />
<meta name="twitter:description" content="TUPLE! is now generalized, and can be mixed with paths, which I think is a good direction.  It&#39;s also encouraging that it is mostly compatible with the previous kind of tuple.  However, those who think tuples were primarily for representing IP addresses will note that this doesn&#39;t really help you with representing IPv6 addresses.  I was closing some old rebol-issues and noticed there was a suggestion from earl of tackling this via the URL! type.  I thought I would link to that discussion and the..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />
<meta property="article:published_time" content="2021-06-17T22:33:30+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1627.html">Using URL! for an IPv6 Type</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/development/8" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/datatypes.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Datatypes</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1627.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-06-17T22:33:30Z' class='post-time'>
                June 17, 2021, 10:33pm
              </time>
              <meta itemprop='dateModified' content='2021-06-17T22:33:30Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>TUPLE! is now generalized, and can be mixed with paths, which I think is a good direction.  It's also encouraging that it is mostly compatible with the previous kind of tuple.</p>
<p>However, those who think tuples were primarily for representing IP addresses will note that this doesn't really help you with representing IPv6 addresses.</p>
<p>I was closing some old rebol-issues and noticed there was a suggestion from earl of tackling this via the URL! type.</p>
<p>I thought I would link to that discussion and the points it raises:</p>
<p><a href="https://github.com/metaeducation/rebol-issues/issues/1976" class="inline-onebox">Revisit, refactor or rename tuple! Â· Issue #1976 Â· metaeducation/rebol-issues Â· GitHub</a></p>
<p>One of the points is that URL!s aren't checked for validity, so it doesn't have the "rigor" that a notational IPV6! datatype might have.  Which may displease some people, as not being much better than a string.</p>
<p>In any case, I'm closing the original issue itself, as I feel the broad issue of TUPLE!s is solved.  But wanted something to come up here if a search were done on "IPv6".</p>
        </div>

        <meta itemprop='headline' content='Using URL! for an IPv6 Type'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1627.html">


          <span class="crawler-post-infos">
              <meta itemprop='datePublished' content='2021-08-31T05:22:08Z'>
              <time itemprop='dateModified' datetime='2021-08-31T05:26:00Z' class='post-time'>
                August 31, 2021,  5:26am
              </time>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>So libuv is a modern library that lives in the modern world, and as such, IPv6 support is a real thing we could have.</p>
<p>But once we have it that means usermode code will be seeing IPv6 addresses.  What are we going to do about it?</p>
<h2>Seeing if Red has Any Ideas... no</h2>
<p>Red's issue database they don't say anything about it, <a href="https://github.com/red/red/blob/42d9d6a76bc48c204b00faf40ef9a769f0fb4a0d/environment/networking.red#L78">but of URL! parsing</a> they say:</p>
<blockquote>
<p>"Host is not detailed per the RFC yet. It covers IPv6 addresses, which go in square brackets, making them a non-loadable URL in Red. They can also contain colons, which makes finding the port marker more involved.  The percent encoded options for brackets here are a bit of a hack as well,  because Red encodes them in URLs, even in the IP literal segment.|</p>
<pre><code>   ; simplified from [IPv6address | IPvFuture]|
   IP-literal:  [copy =IP-literal [[#[ | %5B] thru [#] | %5D]]] 
</code></pre>
</blockquote>
<p>What they're talking about is that in the internet spec, these IPv6 addresses:</p>
<pre><code>FEDC:BA98:7654:3210:FEDC:BA98:7654:3210
1080:0:0:0:8:800:200C:4171
3ffe:2a00:100:7031::1
1080::8:800:200C:417A
::192.9.5.5
::FFFF:129.144.52.38
2010:836B:4179::836B:4179
</code></pre>
<p>would embed into URL!s like:</p>
<pre><code>http://[FEDC:BA98:7654:3210:FEDC:BA98:7654:3210]:80/index.html
http://[1080:0:0:0:8:800:200C:417A]/index.html
http://[3ffe:2a00:100:7031::1]
http://[1080::8:800:200C:417A]/foo
http://[::192.9.5.5]/ipng
http://[::FFFF:129.144.52.38]:80/index.html
http://[2010:836B:4179::836B:4179]
</code></pre>
<p>The brackets don't seem like any particular problem for Ren-C, because we don't intend to load <strong><code>http://[a b c]</code></strong> as two separate items of a URL! and a BLOCK!, e.g. <strong><code>http:// [a b c]</code></strong>.</p>
<p><em>(But we do have the question of what to do about <strong><code>[... http://]</code></strong>.  I think that the idea of letting URLs do paired parentheses and paired blocks in them probably would work for most cases people would care about.)</em></p>
<h2>Could we just use a BINARY!?</h2>
<p>It might seem like we could just punt on it and use a BINARY!...saying the address is a black box.  It sound like it will work, but earl writes the following in the <a href="https://github.com/metaeducation/rebol-issues/issues/1976">issue I cite in the post above</a>:</p>
<blockquote>
<p>As mentioned in my first comment above, IPv6 literal syntax is in latent conflict with url! and get-word! literal syntax: a::b is a valid IPv6 address, but is currently a valid url!; ::a is a valid IPv6 address, but currently a valid get-word!. Maybe there are other conflicts as well.</p>
<p>Also note, that IPv6 addresses may need to be qualified with a "zone index" to be routeable. The suggested notations for a zone index is to append it to the address separated with a %. The syntax for a valid zone index itself is OS-specific. Examples: fe80::1%1, fe80::1%wlan0. (Obviously, this notation conflicts with percent encoding in url!s.) You'll have to store the zone index along with the address. For some usage scenarios you can get by with storing the zone index pre-decoded into a 32-bit integer; for other scenarios, you may have to keep the original, literal zone index specification around.</p>
</blockquote>
<p>So that "zone index" is a thorn, suggesting some part of IPv6 addressing might have to be passed around as a string...</p>
<p>I don't know, but if anyone feels like reading up on IPv6 and thinking about it please do so.  I was actually going to make a new post to bring it up, but searched and found I'd already brought it up.</p>
<p>Guess the point being we're now past the theory and into the practice of IPv6.  So it's a more pressing issue.</p>
        </div>

        <meta itemprop='headline' content='Using URL! for an IPv6 Type'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="2" />
           <span class='post-likes'>2 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
