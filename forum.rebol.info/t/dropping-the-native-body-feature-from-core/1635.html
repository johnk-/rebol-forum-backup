<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dropping the NATIVE/BODY Feature From Core - Help System - AltRebol</title>
    <meta name="description" content="Rather early on in hacking around on Rebol I had an interesting (to me) idea. 
It seemed that quite often, native functions were really nothing that couldn&amp;#39;t be done in usermode...they were just written as natives becaus&amp;hellip;">
    <meta name="generator" content="Discourse 2.7.0.beta4 - https://github.com/discourse/discourse version 3fc72543de22c329cf2156f28b781821adc496ae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/cbd70027b53fa165575e5b665f00eb3b8ae7ea31_2_32x32.ico">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1635.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forum.rebol.info","potentialAction":{"@type":"SearchAction","target":"https://forum.rebol.info/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="AltRebol Search">

      <link href="https://forum.rebol.info/stylesheets/desktop_e71c7b3a0694e7f6434c54a663bfb42821f8bd81.css?__ws=forum.rebol.info" media="all" rel="stylesheet" data-target="desktop" />
    
    
        <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Dropping the NATIVE/BODY Feature From Core&#39;" href="1635.rss" />
    <meta property="og:site_name" content="AltRebol" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:image" content="https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" />
<meta property="og:url" content="https://forum.rebol.info/t/dropping-the-native-body-feature-from-core/1635" />
<meta name="twitter:url" content="https://forum.rebol.info/t/dropping-the-native-body-feature-from-core/1635" />
<meta property="og:title" content="Dropping the NATIVE/BODY Feature From Core" />
<meta name="twitter:title" content="Dropping the NATIVE/BODY Feature From Core" />
<meta property="og:description" content="Rather early on in hacking around on Rebol I had an interesting (to me) idea.  It seemed that quite often, native functions were really nothing that couldn&#39;t be done in usermode...they were just written as natives because they were supposed to be faster.  I thought it might be interesting to preserve or define the original code as part of the native spec.  A very simple example, this explains how DID might be made to force any value to its truthy status by applying NOT twice:  // //  did: native..." />
<meta name="twitter:description" content="Rather early on in hacking around on Rebol I had an interesting (to me) idea.  It seemed that quite often, native functions were really nothing that couldn&#39;t be done in usermode...they were just written as natives because they were supposed to be faster.  I thought it might be interesting to preserve or define the original code as part of the native spec.  A very simple example, this explains how DID might be made to force any value to its truthy status by applying NOT twice:  // //  did: native..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />
<meta property="article:published_time" content="2021-07-18T09:02:16+00:00" />
<meta property="og:ignore_canonical" content="true" />



    
  </head>
  <body class="crawler">
    
    <header>
      <a href="https://forum.rebol.info/">
          <img src="../../uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png" alt="AltRebol" id="site-logo" style="max-width: 150px;">
      </a>
    </header>
    <div id="main-outlet" class="wrap">
        <div id="topic-title">
    <h1>
      <a href="1635.html">Dropping the NATIVE/BODY Feature From Core</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/15" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Domains</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forum.rebol.info/c/domains/discoverability/51" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #F1592A'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Help System</span>
              </span>
            </a>
            <meta itemprop="position" content="2" />
          </span>
      </div>

  </div>

  


      <div itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='AltRebol'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forum.rebol.info/uploads/default/original/1X/ae4ccad1a2789bb1e85cf5a0f52f2f1de10da26d.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forum.rebol.info/u/hostilefork'><span itemprop='name'>hostilefork</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1635.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-07-18T09:02:16Z' class='post-time'>
                July 18, 2021,  9:02am
              </time>
              <meta itemprop='dateModified' content='2021-07-18T09:02:16Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Rather early on in hacking around on Rebol I had an interesting (to me) idea.</p>
<p>It seemed that quite often, native functions were really nothing that couldn't be done in usermode...they were just written as natives because they were supposed to be faster.  I thought it might be interesting to preserve or define the original code as part of the native spec.</p>
<p>A very simple example, this explains how DID might be made to force any value to its truthy status by applying NOT twice:</p>
<pre><code>//
//  did: native/body [
//
//  "Synonym for TO-LOGIC"
//
//      return: "true if value is NOT a LOGIC! false, BLANK!, or NULL"
//          [logic!]
//      optional [&lt;opt&gt; any-value!]
//  ][
//      not not :optional
//  ]
//
REBNATIVE(_did_)  // see TO-C-NAME
{
    INCLUDE_PARAMS_OF__DID_;

    return Init_Logic(D_OUT, IS_TRUTHY(ARG(optional)));
}
</code></pre>
<h2>There's A Good Idea In Here...But</h2>
<p>Expressing what natives do as usermode code is a good way of understanding what that code does.</p>
<p>However it needs to be tested or it's doomed to get out of sync.  I had the idea that natives would swap out their behavior for their usermode equivalents every now and again and we'd run the tests.  But if you're actually intercept calls to natives and implement them with other natives, what happens when two of them use interdependent definitions?</p>
<h2>This Testing And Documentation Doesn't Belong In The Core</h2>
<p>It's nice to be able to see it there with the native spec.  But compiling these bodies into the executable just makes it unnecessarily bigger.</p>
<p>There's a lot of other testing and documentation enhancements that are higher priority, and the complexity incurred from this feature suggests dropping it.</p>
<p>It was a neat idea from a long time ago that has been superseded in importance by many other neat ideas.  <img src="../../images/emoji/twitter/slight_smile.png%3Fv=9" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
        </div>

        <meta itemprop='headline' content='Dropping the NATIVE/BODY Feature From Core'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="3" />
           <span class='post-likes'>3 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
      <nav class='crawler-nav'>
        <ul>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/' itemprop="url">Home </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/categories' itemprop="url">Categories </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/guidelines' itemprop="url">FAQ/Guidelines </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/tos' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='https://forum.rebol.info/privacy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
        </ul>
      </nav>
      <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
